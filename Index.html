<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crear Archivo m3u8</title>
</head>
<body>
  <h1>Generador de Archivo m3u8</h1>
  <form id="m3u8-form">
    <label for="ts-url">Enlace al archivo .ts:</label><br>
    <input type="url" id="http://96184991224321147.ofd1206.xyz:80/play/ja1229862/Np3Tu4wykk/321147.ts" placeholder="http://example.com/video.ts" required style="width: 300px;"><br><br>
    <button type="button" onclick="crearM3U8()">Generar y Descargar</button>
  </form>

  <script>
    function crearM3U8() {
      // Obtener el URL del archivo .ts
      const tsUrl = document.getElementById("ts-url").value;
      if (!tsUrl.endsWith(".ts")) {
        alert("El enlace debe terminar en .ts");
        return;
      }

      // Estructura del archivo .m3u8
      const m3u8Content = `#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:10
#EXT-X-MEDIA-SEQUENCE:0
#EXTINF:10.0,
${tsUrl}
#EXT-X-ENDLIST`;

      // Crear un Blob para el contenido
      const blob = new Blob([m3u8Content], { type: "application/vnd.apple.mpegurl" });

      // Crear un enlace de descarga
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "playlist.m3u8";

      // Simular un clic para iniciar la descarga
      link.click();

      // Limpiar la URL del objeto para liberar memoria
      URL.revokeObjectURL(link.href);
    }
  </script>
</body>
</html>
